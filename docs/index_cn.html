<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Hooks å®Œæ•´æŒ‡å—</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --bg-color: #f8fafc;
            --surface-color: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --code-bg: #1e1e1e;
            --sidebar-width: 280px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-color);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Layout */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            min-height: calc(100vh - 200px);
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--surface-color);
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .toc {
            padding: 0 1.5rem;
        }

        .toc h3 {
            color: var(--primary-color);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 0.5rem;
        }

        .toc a {
            text-decoration: none;
            color: var(--text-secondary);
            display: block;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .toc a:hover {
            background-color: var(--bg-color);
            color: var(--primary-color);
            transform: translateX(4px);
        }

        .toc li li a {
            padding-left: 2rem;
            font-size: 0.85rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            max-width: calc(100% - var(--sidebar-width));
        }

        .section {
            background: var(--surface-color);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        h2 {
            font-size: 1.8rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        h3 {
            font-size: 1.4rem;
            color: var(--secondary-color);
            margin-top: 2rem;
        }

        h4 {
            font-size: 1.2rem;
            margin-top: 1.5rem;
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* Code Blocks */
        pre {
            background: var(--code-bg) !important;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            border: 1px solid #333;
        }

        code {
            background: #f1f5f9;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            color: var(--error-color);
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: var(--surface-color);
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-color);
            font-weight: 600;
            color: var(--text-primary);
        }

        tr:hover {
            background: var(--bg-color);
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Alert Boxes */
        .warning {
            background: linear-gradient(90deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid var(--warning-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .warning::before {
            content: "âš ï¸";
            font-size: 1.5rem;
            position: absolute;
            top: 1rem;
            left: 1rem;
        }

        .warning h4 {
            color: #92400e;
            margin-left: 2rem;
            margin-bottom: 0.5rem;
        }

        .warning p {
            color: #92400e;
            margin-left: 2rem;
            margin-bottom: 0;
        }

        /* Tags */
        .tag {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
            margin: 0.2rem;
        }

        .tag.success {
            background: var(--success-color);
        }

        .tag.warning {
            background: var(--warning-color);
        }

        .tag.error {
            background: var(--error-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .main-content {
                max-width: 100%;
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .section {
                padding: 1.5rem;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Progress indicator */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            z-index: 1000;
            transition: width 0.3s ease;
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.4);
        }

        /* Icons */
        .icon {
            margin-right: 0.5rem;
        }

        /* Step indicators */
        .step-indicator {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.5rem;
        }

        /* Feature cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <header class="header">
        <h1><i class="fas fa-code icon"></i>Claude Code Hooks å®Œæ•´æŒ‡å—</h1>
        <p>é€è¿‡æ³¨å†Œ shell å‘½ä»¤ï¼Œå®¢åˆ¶åŒ–å¹¶æ‰©å±•æ‚¨çš„ Claude Code å·¥ä½œæµç¨‹</p>
    </header>

    <div class="container">
        <nav class="sidebar">
            <div class="toc">
                <h3><i class="fas fa-list icon"></i>ç›®å½•</h3>
                <ul>
                    <li><a href="#overview">ğŸ“‹ æ€»è§ˆ</a>
                        <ul>
                            <li><a href="#what-is-hooks">ä»€ä¹ˆæ˜¯ Hooksï¼Ÿ</a></li>
                            <li><a href="#why-hooks">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Hooksï¼Ÿ</a></li>
                        </ul>
                    </li>
                    <li><a href="#tutorial">ğŸš€ å…¥é—¨æ•™å­¦</a>
                        <ul>
                            <li><a href="#step1">æ­¥éª¤ 1ï¼šç¬¬ä¸€ä¸ª Hook</a></li>
                            <li><a href="#step2">æ­¥éª¤ 2ï¼šä½¿ç”¨åŒ¹é…å™¨</a></li>
                            <li><a href="#step3">æ­¥éª¤ 3ï¼šä¸ Claude äº’åŠ¨</a></li>
                        </ul>
                    </li>
                    <li><a href="#concepts">ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ</a>
                        <ul>
                            <li><a href="#lifecycle">äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</a></li>
                            <li><a href="#input">Hook è¾“å…¥</a></li>
                            <li><a href="#output">Hook è¾“å‡º</a></li>
                            <li><a href="#config">è®¾å®šæ¡£ä½ç½®</a></li>
                        </ul>
                    </li>
                    <li><a href="#examples">ğŸ’¡ å®ç”¨èŒƒä¾‹åº“</a></li>
                    <li><a href="#execution">âš™ï¸ æ‰§è¡Œç»†èŠ‚</a></li>
                    <li><a href="#advanced">ğŸ”§ è¿›é˜¶åŠŸèƒ½</a></li>
                    <li><a href="#security">ğŸ›¡ï¸ å®‰å…¨è€ƒé‡</a></li>
                    <li><a href="#troubleshooting">ğŸ” ç–‘éš¾æ’è§£</a></li>
                    <li><a href="#best-practices">âœ¨ æœ€ä½³å®è·µ</a></li>
                </ul>
            </div>
        </nav>

        <main class="main-content">
            <section id="overview" class="section">
                <h2><i class="fas fa-info-circle icon"></i>æ€»è§ˆ</h2>
                
                <h3 id="what-is-hooks">ä»€ä¹ˆæ˜¯ Hooksï¼Ÿ</h3>
                <p>Hooks æ˜¯æ‚¨å®šä¹‰çš„ shell å‘½ä»¤ï¼Œå®ƒä»¬ä¼šåœ¨ Claude Code ç”Ÿå‘½å‘¨æœŸçš„ç‰¹å®šæ—¶é—´ç‚¹è‡ªåŠ¨æ‰§è¡Œã€‚æ‚¨å¯ä»¥æŠŠå®ƒä»¬æƒ³åƒæˆæ˜¯ä¸ºæ‚¨çš„ AI ç¨‹å¼è®¾è®¡ä¼™ä¼´è®¾å®šçš„ã€Œè‡ªåŠ¨åŒ–è§„åˆ™ã€æˆ–ã€Œè§¦å‘å™¨ã€ã€‚</p>
                <p>ä¸å…¶åœ¨æç¤ºä¸­åå¤å‘Šè¯‰ Claude è¦éµå®ˆæŸäº›è§„åˆ™ï¼Œä¸å¦‚å°†è¿™äº›è§„åˆ™ç¼–ç ä¸º Hooksï¼Œä½¿å…¶æˆä¸ºæ‚¨å¼€å‘ç¯å¢ƒä¸­å¯é ä¸”è‡ªåŠ¨åŒ–çš„ä¸€éƒ¨åˆ†ã€‚</p>

                <h3 id="why-hooks">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Hooksï¼Ÿ</h3>
                <p>Hooks è®©æ‚¨èƒ½å¤Ÿå¯¹ Claude Code çš„è¡Œä¸ºè¿›è¡Œç¡®å®šæ€§çš„æ§åˆ¶ï¼Œç¡®ä¿æŸäº›åŠ¨ä½œæ€»æ˜¯ä¼šå‘ç”Ÿã€‚å¸¸è§çš„ä½¿ç”¨æƒ…å¢ƒåŒ…æ‹¬ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">âœï¸</div>
                        <h4>è‡ªåŠ¨æ ¼å¼åŒ–</h4>
                        <p>åœ¨ Claude æ¯æ¬¡ç¼–è¾‘å®Œæ¯•åï¼Œè‡ªåŠ¨å¯¹ .ts æ¡£æ¡ˆæ‰§è¡Œ prettierï¼Œæˆ–å¯¹ .go æ¡£æ¡ˆæ‰§è¡Œ gofmtã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ””</div>
                        <h4>è‡ªè®¢é€šçŸ¥</h4>
                        <p>å½“ Claude ç­‰å¾…æ‚¨çš„æŒ‡ä»¤æˆ–æ‰§è¡Œæƒé™æ—¶ï¼Œé€è¿‡ç³»ç»Ÿé€šçŸ¥æˆ–å£°éŸ³æé†’æ‚¨ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ›¡ï¸</div>
                        <h4>å®‰å…¨é˜²æŠ¤</h4>
                        <p>é˜»æ­¢ Claude æ‰§è¡Œå±é™©çš„å‘½ä»¤ï¼ˆä¾‹å¦‚ rm -rfï¼‰æˆ–ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒçš„è®¾å®šæ¡£ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>åˆè§„æ€§è®°å½•</h4>
                        <p>è¿½è¸ªæ‰€æœ‰ç”± Claude æ‰§è¡Œçš„ shell å‘½ä»¤ï¼Œä»¥æ»¡è¶³ç¨½æ ¸æˆ–é™¤é”™éœ€æ±‚ã€‚</p>
                    </div>
                </div>
            </section>

            <section id="tutorial" class="section">
                <h2><i class="fas fa-graduation-cap icon"></i>å…¥é—¨æ•™å­¦</h2>
                <p>æœ¬æ•™å­¦å°†å¼•å¯¼æ‚¨å»ºç«‹ä¸‰ä¸ª Hooksï¼Œä»ç®€å•åˆ°å¤æ‚ï¼Œé€æ­¥æŒæ¡æ ¸å¿ƒæ¦‚å¿µã€‚</p>

                <h3 id="step1"><span class="step-indicator">1</span>æ‚¨çš„ç¬¬ä¸€ä¸ª Hook - æ¡£æ¡ˆå˜æ›´æ—¥å¿—</h3>
                <p>æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Hook éå¸¸ç®€å•ï¼šæ¯å½“ Claude å‚¨å­˜ä¸€ä¸ªæ¡£æ¡ˆæ—¶ï¼Œæˆ‘ä»¬å°±åœ¨ä¸€ä¸ªæ—¥å¿—æ¡£ä¸­è®°å½•ä¸‹æ¥ã€‚è¿™ä¸ªèŒƒä¾‹ä¸éœ€è¦ä»»ä½•å¤–éƒ¨å·¥å…·ã€‚</p>
                
                <ol>
                    <li>åœ¨ç»ˆç«¯æœºä¸­æ‰§è¡Œ <code>/hooks</code> å‘½ä»¤ï¼Œæ‰“å¼€ Hooks è®¾å®šä»‹é¢ã€‚</li>
                    <li>ä»äº‹ä»¶åˆ—è¡¨ä¸­é€‰æ‹© <code>PostToolUse</code>ã€‚è¿™ä¸ªäº‹ä»¶ä¼šåœ¨ Claude æˆåŠŸæ‰§è¡Œå·¥å…·<strong>ä¹‹å</strong>è§¦å‘ã€‚</li>
                    <li>é€‰æ‹© <code>+ Add new matcherâ€¦</code>ï¼Œè¾“å…¥ <code>Write|Edit|MultiEdit</code> æ¥åŒ¹é…æ¡£æ¡ˆæ“ä½œå·¥å…·ã€‚</li>
                    <li>é€‰æ‹© <code>+ Add new hookâ€¦</code>ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">echo "Claude edited a file at $(date)" >> ~/.claude/file-edit-log.txt</code></pre>

                <ol start="5">
                    <li>æŒ‰ <code>Enter</code> å‚¨å­˜ Hookã€‚ç³»ç»Ÿä¼šè¯¢é—®æ‚¨å‚¨å­˜ä½ç½®ï¼Œé€‰æ‹© <code>User settings</code>ï¼ˆä½¿ç”¨è€…è®¾å®šï¼‰ï¼Œè¿™æ ·è¿™ä¸ª Hook å°±ä¼šåœ¨æ‚¨æ‰€æœ‰çš„ä¸“æ¡ˆä¸­ç”Ÿæ•ˆã€‚</li>
                    <li>æŒ‰ <code>Esc</code> é€€å‡ºè®¾å®šä»‹é¢ã€‚</li>
                </ol>

                <div class="warning">
                    <h4>éªŒè¯ä¸€ä¸‹</h4>
                    <p>ç°åœ¨ï¼Œè¯· Claude éšæ„ä¿®æ”¹æ‚¨ä¸“æ¡ˆä¸­çš„ä»»ä½•ä¸€ä¸ªæ¡£æ¡ˆã€‚å®Œæˆåï¼Œæ£€æŸ¥æ—¥å¿—æ¡£çš„å†…å®¹ï¼š</p>
                    <pre><code class="language-bash">cat ~/.claude/file-edit-log.txt</code></pre>
                    <p>æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼ "Claude edited a file at [æ—¥æœŸæ—¶é—´]" çš„è®¯æ¯ã€‚æ­å–œï¼Œæ‚¨å·²ç»æˆåŠŸå»ºç«‹äº†ç¬¬ä¸€ä¸ª Hookï¼</p>
                </div>

                <h3 id="step2"><span class="step-indicator">2</span>åŠ å…¥æ¡ä»¶ - ä½¿ç”¨åŒ¹é…å™¨</h3>
                <p>ä¸Šä¸€ä¸ª Hook ä¼šåœ¨<strong>ä»»ä½•</strong>æ¡£æ¡ˆè¢«ç¼–è¾‘åè§¦å‘ã€‚å¦‚æœæˆ‘ä»¬åªæƒ³åœ¨ç‰¹å®šå·¥å…·è¢«ä½¿ç”¨æ—¶è§¦å‘å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ã€ŒåŒ¹é…å™¨ã€ã€‚</p>

                <ol>
                    <li>å†æ¬¡æ‰§è¡Œ <code>/hooks</code>ï¼Œé€‰æ‹© <code>PostToolUse</code> äº‹ä»¶ã€‚</li>
                    <li>é€‰æ‹© <code>+ Add new matcherâ€¦</code>ï¼Œè¾“å…¥ <code>Bash</code>ã€‚è¿™æ · Hook å°±åªä¼šåœ¨ Claude æ‰§è¡Œ shell å‘½ä»¤åè§¦å‘ã€‚</li>
                    <li>æ–°å¢ä¸€ä¸ª Hook å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">echo "Claude ran a bash command at $(date)" >> ~/.claude/bash-log.txt</code></pre>

                <h3 id="step3"><span class="step-indicator">3</span>ä¸ Claude äº’åŠ¨ - è®°å½•æ‰§è¡Œçš„å‘½ä»¤</h3>
                <p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æŒ‘æˆ˜ä¸€ä¸ªæ›´è¿›é˜¶çš„ Hookï¼šè®°å½• Claude å°è¯•æ‰§è¡Œçš„æ‰€æœ‰ shell å‘½ä»¤è¯¦ç»†èµ„è®¯ã€‚è¿™ä¸ª Hook ä¼šè¯»å– Claude ä¼ é€’çš„èµ„æ–™ï¼Œå¹¶éœ€è¦ <code>jq</code> å·¥å…·æ¥è§£æ JSONã€‚</p>

                <div class="warning">
                    <h4>å…ˆå†³æ¡ä»¶</h4>
                    <p>è¯·ç¡®ä¿æ‚¨å·²å®‰è£… <code>jq</code>ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·ä½¿ç”¨æ‚¨çš„å¥—ä»¶ç®¡ç†å™¨å®‰è£…ï¼š</p>
                    <ul>
                        <li>macOS: <code>brew install jq</code></li>
                        <li>Ubuntu/Debian: <code>sudo apt-get install jq</code></li>
                        <li>Windows: ä¸‹è½½è‡ª https://stedolan.github.io/jq/</li>
                    </ul>
                </div>

                <ol>
                    <li>æ‰§è¡Œ <code>/hooks</code>ï¼Œè¿™æ¬¡é€‰æ‹© <code>PreToolUse</code> äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶åœ¨ Claude <strong>å‡†å¤‡</strong>æ‰§è¡Œä¸€ä¸ªå·¥å…·ï¼ˆå¦‚ <code>bash</code> å‘½ä»¤ï¼‰<strong>ä¹‹å‰</strong>è§¦å‘ã€‚</li>
                    <li>ä¸ºè¿™ä¸ª Hook æ–°å¢ä¸€ä¸ªåŒ¹é…å™¨ï¼Œè¾“å…¥ <code>Bash</code>ï¼Œè¿™æ ·å®ƒå°±åªä¼šç›‘æ§ shell å‘½ä»¤ã€‚</li>
                    <li>é€‰æ‹© <code>+ Add new hookâ€¦</code> å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">jq -r '"COMMAND: \(.tool_input.command) | DESCRIPTION: \(.tool_input.description // "None")"' >> ~/.claude/bash-command-log.txt</code></pre>

                <p>è¿™ä¸ªå‘½ä»¤ä¼šä»ä¼ å…¥çš„ JSON èµ„æ–™ä¸­æå– <code>command</code> å’Œ <code>description</code> æ ä½ï¼Œå¹¶å°†å…¶æ ¼å¼åŒ–åå†™å…¥æ—¥å¿—æ¡£ã€‚</p>
            </section>

            <section id="concepts" class="section">
                <h2><i class="fas fa-cogs icon"></i>æ ¸å¿ƒæ¦‚å¿µ</h2>

                <h3 id="lifecycle">Hook äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</h3>
                <p>Hooks å¯ä»¥åœ¨ Claude Code ç”Ÿå‘½å‘¨æœŸçš„å¤šä¸ªæ—¶é—´ç‚¹è§¦å‘ã€‚ä»¥ä¸‹æ˜¯ä¸»è¦çš„äº‹ä»¶ç±»å‹ï¼š</p>

                <table>
                    <thead>
                        <tr>
                            <th>äº‹ä»¶åç§°</th>
                            <th>è§¦å‘æ—¶æœº</th>
                            <th>å¸¸è§ç”¨é€”</th>
                            <th>å¯é˜»æ­¢æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>UserPromptSubmit</code></td>
                            <td>ä½¿ç”¨è€…æäº¤æç¤ºåï¼ŒClaude å¤„ç†<strong>ä¹‹å‰</strong></td>
                            <td>éªŒè¯æç¤ºã€æ ¹æ®æç¤ºå†…å®¹æ³¨å…¥é¢å¤–ä¸Šä¸‹æ–‡</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PreToolUse</code></td>
                            <td>åœ¨å·¥å…·ï¼ˆå¦‚ <code>Bash</code>ï¼‰è¢«æ‰§è¡Œ<strong>ä¹‹å‰</strong></td>
                            <td>é˜»æ­¢å±é™©å‘½ä»¤ã€è®°å½•æ„å›¾ã€ä¿®æ”¹å‘½ä»¤</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PostToolUse</code></td>
                            <td>åœ¨å·¥å…·æ‰§è¡Œ<strong>ä¹‹å</strong></td>
                            <td>è®°å½•æ‰§è¡Œç»“æœã€åŸºäºç»“æœè§¦å‘ä¸‹ä¸€æ­¥</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                        <tr>
                            <td><code>Notification</code></td>
                            <td>å½“éœ€è¦å‘é€é€šçŸ¥æ—¶</td>
                            <td>è‡ªè®¢é€šçŸ¥æ–¹å¼ã€å£°éŸ³æé†’</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                        <tr>
                            <td><code>Stop</code></td>
                            <td>å½“ Claude å®Œæˆä»»åŠ¡æˆ–é‡åˆ°é”™è¯¯æ—¶</td>
                            <td>æ¸…ç†å·¥ä½œã€åç»­å¤„ç†</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>SubagentStop</code></td>
                            <td>å½“å­ä»£ç†ï¼ˆTask å·¥å…·ï¼‰å®Œæˆæ—¶</td>
                            <td>é’ˆå¯¹å­ä»»åŠ¡çš„åç»­å¤„ç†</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PreCompact</code></td>
                            <td>åœ¨ Claude æ‰§è¡Œä¸Šä¸‹æ–‡å‹ç¼©<strong>ä¹‹å‰</strong></td>
                            <td>æ ¹æ®å‹ç¼©ç±»å‹æ‰§è¡Œä¸åŒæ“ä½œã€å¤‡ä»½é‡è¦ä¸Šä¸‹æ–‡</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="input">Hook çš„è¾“å…¥ (stdin)</h3>
                <p>æ¯ä¸ª Hook åœ¨æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šé€è¿‡æ ‡å‡†è¾“å…¥ï¼ˆ<code>stdin</code>ï¼‰æ¥æ”¶ä¸€ä¸ªåŒ…å«ä¸Šä¸‹æ–‡èµ„è®¯çš„ JSON ç‰©ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>jq</code> æˆ–å…¶ä»–å·¥å…·æ¥è§£æå®ƒã€‚</p>

                <h4>é€šç”¨æ ä½</h4>
                <pre><code class="language-json">{
  "session_id": "string",
  "transcript_path": "string", // å¯¹è¯è®°å½•æ¡£è·¯å¾„
  "cwd": "string",             // Hook è¢«è°ƒç”¨æ—¶çš„å½“å‰å·¥ä½œç›®å½•
  "hook_event_name": "string"  // è§¦å‘çš„ Hook äº‹ä»¶åç§°
}</code></pre>

                <h4>PreToolUse çš„è¾“å…¥èŒƒä¾‹</h4>
                <pre><code class="language-json">{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../session.jsonl",
  "cwd": "/path/to/project",
  "hook_event_name": "PreToolUse",
  "tool_name": "Bash",
  "tool_input": {
    "command": "ls -a",
    "description": "List all files, including hidden ones."
  }
}</code></pre>
            </section>

            <section id="examples" class="section">
                <h2><i class="fas fa-lightbulb icon"></i>å®ç”¨èŒƒä¾‹åº“</h2>
                <p>è¿™é‡Œæœ‰ä¸€äº›å¯ä»¥ç›´æ¥ä½¿ç”¨çš„èŒƒä¾‹ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿæå‡æ•ˆç‡ã€‚</p>

                <h3>1. ç¨‹å¼ç è‡ªåŠ¨æ ¼å¼åŒ–</h3>
                <h4>TypeScript/JavaScript (Prettier)</h4>
                <p>åœ¨ Claude æ¯æ¬¡ä¿®æ”¹å®Œæ¡£æ¡ˆåï¼Œè‡ªåŠ¨æ‰§è¡Œ Prettier æ ¼å¼åŒ–ã€‚</p>
                
                <p><strong>è®¾å®š:</strong></p>
                <ul>
                    <li><strong>äº‹ä»¶</strong>: <code>PostToolUse</code></li>
                    <li><strong>åŒ¹é…å™¨</strong>: <code>Edit|MultiEdit|Write</code></li>
                    <li><strong>Hook å‘½ä»¤</strong>:</li>
                </ul>
                
                <pre><code class="language-bash"># æ£€æŸ¥æ˜¯å¦ä¸º JS/TS æ¡£æ¡ˆå¹¶æ‰§è¡Œ prettier
file_path=$(jq -r '.tool_input.file_path // ""')
if [[ "$file_path" =~ \.(js|jsx|ts|tsx)$ ]] && [[ -f "$file_path" ]] && [[ -f "package.json" ]]; then
    npx --no-install prettier --write "$file_path"
    echo "âœ¨ å·²è‡ªåŠ¨æ ¼å¼åŒ–æ¡£æ¡ˆ: $file_path"
fi</code></pre>

                <h3>2. å®‰å…¨é˜²æŠ¤èŒƒä¾‹</h3>
                <h4>é˜²æ­¢å±é™©å‘½ä»¤æ‰§è¡Œ</h4>
                <p>é˜»æ­¢ Claude æ‰§è¡Œå¯èƒ½å±é™©çš„å‘½ä»¤ã€‚</p>

                <pre><code class="language-bash">command=$(jq -r '.tool_input.command // ""')

# æ£€æŸ¥å±é™©å‘½ä»¤æ¨¡å¼
dangerous_patterns=("rm -rf" "sudo rm" "dd if=" "mkfs" "fdisk" "> /dev/")

for pattern in "${dangerous_patterns[@]}"; do
    if [[ "$command" == *"$pattern"* ]]; then
        # ä½¿ç”¨é€€å‡ºç  2 æ¥é˜»æŒ¡æ“ä½œï¼Œå¹¶å°† stderr çš„å†…å®¹ä¼ é€’ç»™ Claude
        echo "ğŸš« å®‰å…¨è­¦å‘Š: å·²é˜»æ­¢æ½œåœ¨å±é™©å‘½ä»¤: $command" >&2
        echo "ğŸ’¡ å»ºè®®: è¯·ä½¿ç”¨æ›´å®‰å…¨çš„æ›¿ä»£æ–¹æ¡ˆæˆ–æ˜ç¡®æŒ‡å®šæ¡£æ¡ˆ" >&2
        exit 2
    fi
done

echo "âœ… å‘½ä»¤å®‰å…¨æ£€æŸ¥é€šè¿‡: $command"</code></pre>
            </section>

            <section id="execution" class="section">
                <h2><i class="fas fa-play-circle icon"></i>Hook æ‰§è¡Œç»†èŠ‚</h2>

                <h3>æ‰§è¡Œç¯å¢ƒä¸é™åˆ¶</h3>
                <ul>
                    <li><strong>æ‰§è¡Œè¶…æ—¶</strong>: é¢„è®¾ 60 ç§’æ‰§è¡Œé™åˆ¶ï¼Œå¯é’ˆå¯¹ä¸ªåˆ«å‘½ä»¤è®¾å®š <code>timeout</code> å‚æ•°</li>
                    <li><strong>å¹¶è¡Œæ‰§è¡Œ</strong>: æ‰€æœ‰åŒ¹é…çš„ Hooks ä¼šå¹¶è¡Œæ‰§è¡Œ</li>
                    <li><strong>æ‰§è¡Œç¯å¢ƒ</strong>: åœ¨å½“å‰ç›®å½•ä¸­æ‰§è¡Œï¼Œä½¿ç”¨ Claude Code çš„ç¯å¢ƒå˜æ•°</li>
                    <li><strong>è¾“å…¥æ–¹å¼</strong>: é€è¿‡ stdin æ¥æ”¶ JSON èµ„æ–™</li>
                </ul>

                <h3>å¸¸è§å·¥å…·åŒ¹é…å™¨</h3>
                <p>ä»¥ä¸‹æ˜¯å¯ä»¥åœ¨ <code>PreToolUse</code> å’Œ <code>PostToolUse</code> ä¸­ä½¿ç”¨çš„å¸¸è§å·¥å…·åç§°ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“‹</div>
                        <h4>Task</h4>
                        <p>ä»£ç†ä»»åŠ¡</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’»</div>
                        <h4>Bash</h4>
                        <p>Shell å‘½ä»¤</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>Glob</h4>
                        <p>æ¡£æ¡ˆæ¨¡å¼åŒ¹é…</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”</div>
                        <h4>Grep</h4>
                        <p>å†…å®¹æœå¯»</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“–</div>
                        <h4>Read</h4>
                        <p>æ¡£æ¡ˆè¯»å–</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âœï¸</div>
                        <h4>Edit, MultiEdit</h4>
                        <p>æ¡£æ¡ˆç¼–è¾‘</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¾</div>
                        <h4>Write</h4>
                        <p>æ¡£æ¡ˆå†™å…¥</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸŒ</div>
                        <h4>WebFetch, WebSearch</h4>
                        <p>ç½‘è·¯æ“ä½œ</p>
                    </div>
                </div>
            </section>

            <section id="security" class="section">
                <h2><i class="fas fa-shield-alt icon"></i>å®‰å…¨è€ƒé‡</h2>
                
                <div class="warning">
                    <h4>å…è´£å£°æ˜</h4>
                    <p><strong>é£é™©è‡ªè´Ÿ</strong>: Claude Code Hooks ä¼šåœ¨æ‚¨çš„ç³»ç»Ÿä¸Šè‡ªåŠ¨æ‰§è¡Œä»»æ„ shell å‘½ä»¤ã€‚ä½¿ç”¨ Hooks è¡¨ç¤ºæ‚¨ç¡®è®¤ï¼š</p>
                    <ul>
                        <li>æ‚¨å¯¹é…ç½®çš„å‘½ä»¤æ‰¿æ‹…å…¨éƒ¨è´£ä»»</li>
                        <li>Hooks å¯ä»¥ä¿®æ”¹ã€åˆ é™¤æˆ–å­˜å–æ‚¨çš„ä½¿ç”¨è€…å¸æˆ·èƒ½å­˜å–çš„ä»»ä½•æ¡£æ¡ˆ</li>
                        <li>æ¶æ„æˆ–ç¼–å†™ä¸å½“çš„ Hooks å¯èƒ½å¯¼è‡´èµ„æ–™é—å¤±æˆ–ç³»ç»ŸæŸå®³</li>
                        <li>Anthropic ä¸æä¾›ä»»ä½•ä¿è¯ï¼Œå¹¶ä¸”ä¸å¯¹ Hook ä½¿ç”¨å¯¼è‡´çš„ä»»ä½•æŸå®³æ‰¿æ‹…è´£ä»»</li>
                        <li>æ‚¨åº”è¯¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰ï¼Œåœ¨å®‰å…¨ç¯å¢ƒä¸­å½»åº•æµ‹è¯• Hooks</li>
                    </ul>
                    <p>åœ¨æ·»åŠ åˆ°æ‚¨çš„é…ç½®ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å®¡æŸ¥å¹¶ç†è§£ä»»ä½• Hook å‘½ä»¤ã€‚</p>
                </div>

                <h3>é‡è¦å®‰å…¨åŸåˆ™</h3>
                <ol>
                    <li><strong>æœ€å°æƒé™åŸåˆ™</strong>: åªæˆäºˆ Hook å®Œæˆä»»åŠ¡æ‰€éœ€çš„æœ€å°æƒé™</li>
                    <li><strong>è¾“å…¥éªŒè¯</strong>: å§‹ç»ˆéªŒè¯æ¥è‡ª Claude çš„è¾“å…¥èµ„æ–™</li>
                    <li><strong>é¿å…å‘½ä»¤æ³¨å…¥</strong>: å¦‚æœä½¿ç”¨æ¥è‡ª Claude çš„èµ„æ–™å»ºæ„å‘½ä»¤ï¼Œè¯·æ­£ç¡®è½¬ä¹‰</li>
                    <li><strong>å®šæœŸå®¡æŸ¥</strong>: å®šæœŸæ£€æŸ¥æ‚¨çš„ Hook è®¾å®šå’Œæ‰§è¡Œæ—¥å¿—</li>
                    <li><strong>ä½¿ç”¨ç»å¯¹è·¯å¾„</strong>: åœ¨è„šæœ¬ä¸­å°½é‡ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡å®šå‘½ä»¤ï¼Œé¿å… PATH è¢«åŠ«æŒ</li>
                    <li><strong>é¿å¼€æ•æ„Ÿæ¡£æ¡ˆ</strong>: è®¾å®šè§„åˆ™ä»¥è·³è¿‡ <code>.env</code>, <code>.git/</code>, SSH é‡‘é’¥ç­‰æ¡£æ¡ˆ</li>
                </ol>
            </section>

            <section id="troubleshooting" class="section">
                <h2><i class="fas fa-bug icon"></i>ç–‘éš¾æ’è§£</h2>

                <h3>åŸºæœ¬é™¤é”™æ­¥éª¤</h3>
                <p>å¦‚æœæ‚¨çš„ Hooks æ— æ³•æ­£å¸¸è¿ä½œï¼Œè¯·ä¾åºæ£€æŸ¥ï¼š</p>
                
                <ol>
                    <li><strong>æ£€æŸ¥é…ç½®</strong> - æ‰§è¡Œ <code>/hooks</code> æŸ¥çœ‹æ‚¨çš„ Hook æ˜¯å¦å·²æ³¨å†Œ</li>
                    <li><strong>éªŒè¯è¯­æ³•</strong> - ç¡®ä¿ JSON è®¾å®šæœ‰æ•ˆ</li>
                    <li><strong>æµ‹è¯•å‘½ä»¤</strong> - å…ˆæ‰‹åŠ¨æ‰§è¡Œ Hook å‘½ä»¤</li>
                    <li><strong>æ£€æŸ¥æƒé™</strong> - ç¡®ä¿è„šæœ¬æ¡£æ¡ˆå…·æœ‰æ‰§è¡Œæƒé™</li>
                    <li><strong>æŸ¥çœ‹æ—¥å¿—</strong> - ä½¿ç”¨ <code>claude --debug</code> æŸ¥çœ‹è¯¦ç»†çš„ Hook æ‰§è¡Œèµ„è®¯</li>
                </ol>

                <h3>å¯ç”¨è¯¦ç»†æ—¥å¿—</h3>
                <p>ä½¿ç”¨ <code>--debug</code> æ ‡å¿—å¯åŠ¨ Claude Code ä»¥æŸ¥çœ‹è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºï¼š</p>
                <pre><code class="language-bash">claude --debug</code></pre>
            </section>

            <section id="best-practices" class="section">
                <h2><i class="fas fa-star icon"></i>æœ€ä½³å®è·µæ€»ç»“</h2>

                <h3>âœ… æ¨èåšæ³•</h3>
                <ol>
                    <li><strong>ä»ç®€å•å¼€å§‹</strong>: å…ˆå®ä½œåŸºæœ¬çš„æ—¥å¿—è®°å½•ï¼Œå†é€æ­¥åŠ å…¥å¤æ‚åŠŸèƒ½</li>
                    <li><strong>åˆ†å±‚è®¾å®š</strong>: é€šç”¨è§„åˆ™æ”¾åœ¨ä½¿ç”¨è€…è®¾å®šï¼Œä¸“æ¡ˆç‰¹å®šè§„åˆ™æ”¾åœ¨ä¸“æ¡ˆè®¾å®š</li>
                    <li><strong>å……åˆ†æµ‹è¯•</strong>: åœ¨å®‰å…¨ç¯å¢ƒä¸­æµ‹è¯•æ‰€æœ‰ Hook å†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</li>
                    <li><strong>è¯¦ç»†æ³¨é‡Š</strong>: åœ¨è®¾å®šæ¡£ä¸­ä¸ºæ¯ä¸ª Hook æ·»åŠ è¯´æ˜æ³¨é‡Š</li>
                    <li><strong>å®šæœŸç»´æŠ¤</strong>: å®šæœŸæ£€æŸ¥å’Œæ›´æ–° Hook è®¾å®šï¼Œç§»é™¤ä¸éœ€è¦çš„è§„åˆ™</li>
                </ol>

                <h3>âŒ é¿å…äº‹é¡¹</h3>
                <ol>
                    <li><strong>è¿‡åº¦å¤æ‚åŒ–</strong>: é¿å…åœ¨å•ä¸€ Hook ä¸­åŒ…å«è¿‡å¤šé€»è¾‘</li>
                    <li><strong>å¿½ç•¥é”™è¯¯å¤„ç†</strong>: ç¡®ä¿ Hook èƒ½å¤Ÿå¦¥å–„å¤„ç†å¼‚å¸¸æƒ…å†µ</li>
                    <li><strong>ç¡¬ç¼–ç è·¯å¾„</strong>: ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–ç¯å¢ƒå˜æ•°è€Œéç»å¯¹è·¯å¾„</li>
                    <li><strong>å¿½ç•¥æ•ˆèƒ½</strong>: é¿å…åœ¨ Hook ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</li>
                    <li><strong>ç›²ç›®ä¿¡ä»»</strong>: ä¸è¦æ— æ¡ä»¶ä¿¡ä»»æ¥è‡ªå¤–éƒ¨çš„ Hook è®¾å®š</li>
                </ol>
            </section>

            <section class="section">
                <h2><i class="fas fa-rocket icon"></i>ç»“è¯­</h2>
                <p>Claude Code Hooks æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡æ‚¨çš„å¼€å‘æ•ˆç‡å’Œç¨‹å¼ç å“è´¨ã€‚é€è¿‡åˆç†çš„è®¾å®šå’Œä½¿ç”¨ï¼Œæ‚¨å¯ä»¥ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¯</div>
                        <h4>è‡ªåŠ¨åŒ–é‡å¤æ€§ä»»åŠ¡</h4>
                        <p>æ ¼å¼åŒ–ç¨‹å¼ç ã€æ‰§è¡Œæµ‹è¯•ã€äº§ç”Ÿæ–‡ä»¶</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ›¡ï¸</div>
                        <h4>å¢å¼ºå®‰å…¨æ€§</h4>
                        <p>é˜²æ­¢å±é™©æ“ä½œã€ä¿æŠ¤æ•æ„Ÿæ¡£æ¡ˆ</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <h4>æå‡å¯è§åº¦</h4>
                        <p>è®°å½•æ“ä½œå†å²ã€ç›‘æ§ç³»ç»ŸçŠ¶æ€</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”„</div>
                        <h4>ä¼˜åŒ–å·¥ä½œæµç¨‹</h4>
                        <p>æ•´åˆç°æœ‰å·¥å…·é“¾ã€è‡ªè®¢é€šçŸ¥æœºåˆ¶</p>
                    </div>
                </div>

                <p>è®°ä½ï¼ŒHooks çš„çœŸæ­£ä»·å€¼åœ¨äºè®©æ‚¨ä¸“æ³¨äºåˆ›é€ æ€§çš„å·¥ä½œï¼Œè€Œå°†é‡å¤æ€§çš„ã€è§„åˆ™åŒ–çš„ä»»åŠ¡äº¤ç»™è‡ªåŠ¨åŒ–ç³»ç»Ÿå¤„ç†ã€‚</p>
                <p>å¼€å§‹æ‚¨çš„ Claude Code Hooks ä¹‹æ—…ï¼Œè®© AI åŠ©æ‰‹æˆä¸ºæ‚¨å¼€å‘å›¢é˜Ÿä¸­æœ€å¯é çš„æˆå‘˜ï¼</p>

                <hr style="margin: 2rem 0; border: none; height: 1px; background: var(--border-color);">
                
                <h3><i class="fas fa-external-link-alt icon"></i>å‚è€ƒèµ„æº</h3>
                <ul>
                    <li><a href="https://docs.anthropic.com/zh-TW/docs/claude-code/hooks" target="_blank">Claude Code å®˜æ–¹æ–‡ä»¶</a></li>
                    <li><a href="https://stedolan.github.io/jq/tutorial/" target="_blank">jq å®˜æ–¹æ•™å­¦</a></li>
                    <li><a href="https://google.github.io/styleguide/shellguide.html" target="_blank">Shell è„šæœ¬æœ€ä½³å®è·µ</a></li>
                    <li><a href="https://json-schema.org/" target="_blank">JSON Schema éªŒè¯</a></li>
                </ul>
            </section>
        </main>
    </div>

    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Progress bar
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';

            // Back to top button
            const backToTop = document.getElementById('backToTop');
            if (winScroll > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        function scrollToTop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight current section in TOC
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    const tocLink = document.querySelector(`.toc a[href="#${id}"]`);
                    
                    // Remove active class from all links
                    document.querySelectorAll('.toc a').forEach(link => {
                        link.style.fontWeight = 'normal';
                        link.style.color = 'var(--text-secondary)';
                    });
                    
                    // Add active class to current link
                    if (tocLink) {
                        tocLink.style.fontWeight = '600';
                        tocLink.style.color = 'var(--primary-color)';
                    }
                }
            });
        }, {
            rootMargin: '-100px 0px -66%',
        });

        // Observe all sections
        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>