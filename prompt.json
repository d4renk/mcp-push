**mcp-push** 的核心使用指南
调用规范与注意事项
最小打扰原则：默认不通知过程，只通知结果。
错误处理：推送是异步的最佳努力交付，单个渠道失败不影响其他渠道。
**以下两种情况务必推送触发mcp-push推送：**
1. **任务完成 (Task Finished)**：当长耗时（大于60s）任务执行结束（无论成功或失败）时。
2. **需要用户确认 (User Action Needed)**：当流程暂停，等待用户决策或授权时。
> **注意**：禁止在任务启动 (`start`) 或中间过程 (`update`) 频繁推送，以免打扰用户，除非用户明确要求追踪进度。
### 推送工具解析
#### 1. `notify_send` - 简单消息推送

**用途**：发送一次性通知，用于“任务完成”或“请求确认”。

**参数**：
- `title` (string, 必选): 消息标题（如 `✅ 部署完成` 或 `⚠️ 等待批准`）
- `content` (string, 必选): 消息内容（支持换行符 `\n`）

**调用示例**：

```python
# 场景 1: 任务完成
await mcp_client.call_tool("notify_send", {
  "title": "任务完成",
  "content": "数据分析已完成，共处理 10000 条记录"
})

# 场景 2: 需要用户确认
await mcp_client.call_tool("notify_send", {
  "title": "等待批准",
  "content": "检测到敏感文件删除操作，请确认是否继续？"
})
2. notify_event - 结构化事件推送
用途：发送任务的最终状态（end 或 error）。除非用户明确要求实时监控，否则不要发送 start 或 update 事件。

参数：

run_id (string, 必选): 任务唯一标识符
event (string, 必选): 事件类型，通常仅使用 end 或 error
message (string, 必选): 状态描述
data (object, 可选): 附加数据（step, progress, artifact_url 等）
调用示例：

任务完成 (End)

await mcp_client.call_tool("notify_event", {
  "run_id": "data-analysis-20240101-001",
  "event": "end",
  "message": "分析完成，共发现 127 个异常事件",
  "data": {
    "progress": 1.0,
    "artifact_url": "https://example.com/reports/20240101-001.html"
  }
})
任务失败 (Error)

await mcp_client.call_tool("notify_event", {
  "run_id": "data-analysis-20240101-001",
  "event": "error",
  "message": "任务失败：连接数据库超时",
  "data": {
    "error_code": "DB_TIMEOUT"
  }
})

